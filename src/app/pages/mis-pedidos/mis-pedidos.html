<div class="container mt-5">

  <!-- Pedidos Pendientes -->
  <section class="orders-section">
    <h3 class="section-title pending">Pedidos Pendientes</h3>
    <div *ngIf="pedidosPendientes.length > 0; else sinPendientes">
      <div *ngFor="let pedido of pedidosPendientes" class="card order-card pending-card mb-3 shadow-sm">
        <div class="card-body d-flex justify-content-between align-items-center flex-wrap gap-3">
          <div class="order-info">
            <i class="bi bi-clock-history me-2"></i>
            <strong>ID:</strong> {{ pedido.id }} &nbsp;|&nbsp;
            <strong>Pedido:</strong> {{ pedido.n_pedido }} &nbsp;|&nbsp;
            <strong>Total:</strong> ${{ pedido.monto_total }} &nbsp;|&nbsp;
            <strong>Fecha:</strong> {{ pedido.fecha | date:'short' }}
          </div>
          <button class="btn btn-outline-danger btn-sm cancel-btn" (click)="cancelar(pedido.id)">
            <i class="bi bi-x-circle me-1"></i> Cancelar
          </button>
        </div>
      </div>
    </div>
    <ng-template #sinPendientes>
      <p class="text-muted fst-italic">No tienes pedidos pendientes.</p>
    </ng-template>
  </section>

  <hr>

  <!-- Pedidos Aprobados -->
  <section class="orders-section">
    <h3 class="section-title approved">Pedidos Aprobados</h3>
    <div *ngIf="pedidosAprobados.length > 0; else sinAprobados">
      <div *ngFor="let pedido of pedidosAprobados" class="card order-card approved-card mb-3 shadow-sm">
        <div class="card-body d-flex flex-wrap gap-3">
          <i class="bi bi-check-circle-fill text-success me-2 fs-5 align-self-center"></i>
          <div>
            <strong>ID:</strong> {{ pedido.id }} <br>
            <strong>Pedido:</strong> {{ pedido.n_pedido }} <br>
            <strong>Total:</strong> ${{ pedido.monto_total }} <br>
            <strong>Fecha:</strong> {{ pedido.fecha | date:'short' }}
          </div>
        </div>
      </div>
    </div>
    <ng-template #sinAprobados>
      <p class="text-muted fst-italic">No tienes pedidos aprobados.</p>
    </ng-template>
  </section>

  <hr>

  <!-- Pedidos Cancelados -->
  <section class="orders-section">
    <h3 class="section-title cancelled">Pedidos Cancelados</h3>
    <div *ngIf="pedidosCancelados.length > 0; else sinCancelados">
      <div *ngFor="let pedido of pedidosCancelados" class="card order-card cancelled-card mb-3 shadow-sm">
        <div class="card-body d-flex flex-wrap gap-3">
          <i class="bi bi-x-circle-fill text-secondary me-2 fs-5 align-self-center"></i>
          <div>
            <strong>ID:</strong> {{ pedido.id }} <br>
            <strong>Pedido:</strong> {{ pedido.n_pedido }} <br>
            <strong>Total:</strong> ${{ pedido.monto_total }} <br>
            <strong>Fecha:</strong> {{ pedido.fecha | date:'short' }}
          </div>
        </div>
      </div>
    </div>
    <ng-template #sinCancelados>
      <p class="text-muted fst-italic">No tienes pedidos cancelados.</p>
    </ng-template>
  </section>

</div>
