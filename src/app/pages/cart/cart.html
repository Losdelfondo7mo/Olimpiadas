<div class="carrito-container">
  <h2 class="carrito-titulo">Carrito</h2>

  <ul class="carrito-lista">
    <li class="carrito-item" *ngFor="let item of carrito">
      <div class="item-info">
        <span class="item-nombre">{{ item.nombre }} x{{ item.cantidad }}</span>
        <span class="item-precio">${{ item.precio * item.cantidad }}</span>
      </div>
      <button (click)="eliminar(item.id)"
              class="btn-eliminar"
              [attr.aria-label]="'Eliminar ' + item.nombre + ' del carrito'">
        <i class="bi bi-trash-fill"></i>
      </button>
    </li>
  </ul>

  <p *ngIf="carrito.length === 0" class="carrito-vacio">El carrito está vacío.</p>

  <p *ngIf="carrito.length > 0" class="carrito-total">
    <strong>Total:</strong> ${{ total }}
  </p>

  <div class="carrito-acciones" *ngIf="carrito.length > 0">
    <button (click)="vaciar()" class="btn-accion btn-vaciar">Vaciar</button>
    <button (click)="pagar()" class="btn-accion btn-pagar">Pagar</button>
  </div>
</div>

<div
  class="toast-container position-fixed bottom-0 end-0 p-3"
  style="z-index: 1055"
  *ngIf="toastVisible"
>
  <div class="toast show text-white bg-primary border-0">
    <div class="d-flex">
      <div class="toast-body">
        {{ toastMensaje }}
      </div>
      <button
        type="button"
        class="btn-close btn-close-white me-2 m-auto"
        (click)="toastVisible = false"
      ></button>
    </div>
  </div>
</div>
